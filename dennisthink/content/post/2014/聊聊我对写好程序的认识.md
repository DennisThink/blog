---
title: "聊聊我对写好程序的认识"
date: 2014-08-21T21:38:52+08:00
lastmod: 2014-08-21T21:41:52+08:00
weight: 50
# you can close something for this content if you open it in config.toml.
tags: ["from-csdn"]
comment: true
mathjax: false
---

最近在公司做ImageProcess的部分，干了快一个月了，感觉还没有入门。最近在分析台湾的一个同事(70后)写的代码，感觉确实很难，可能这部分算法也比较多吧。主管让我做代码的性能分析，突然发现模块的接口部分有些不好，中间的数据结构不能直接从文件创建，看了老大给的TestApp，发现是从GDI+来的，既然都用了OpenCV为啥还要从GDI+搞起。略有不懂，我只能说我的GDI+还不熟，所以看了一个下午没有看懂。计划明天从OpenCV接个函数过来，就算OK了。

记得之前做word的版面分析，经常要分析字符和段落的大小，以及属性。由于数据结构是链表，而且会遇到合并和拆分，导致对于数据的跟踪及其困难。后来发现组长写了一个函数，可以把数据结构导出为xml，并且可以从文件再生成数据结构，有了这个工具，就方便多了。我对于中间结果，先导出到文件，然后在读入，在CView中画出来，这样本来不容易分析的数据，就变成了一张张的图，非常容易直观的看到结果。我管他叫做bug的可视化。

再说说我看到的Opencv中一个不错的地方吧，就是每次释放内存的时候用的是二级指针，这样可以做到第一释放内存，第二，修改指针，防止出现野指针。